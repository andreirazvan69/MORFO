<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anatomie DentarƒÉ: Teorie »ôi Quiz</title>
    <style>
        :root {
            --primary-color: #0056b3;
            --secondary-color: #2c3e50;
            --accent-color: #d63384;
            --bg-color: #f0f2f5;
            --sidebar-width: 280px;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            overflow-x: hidden; 
        }

        /* --- BUTONUL DE DECLAN»òARE MENIU --- */
        .menu-trigger {
            position: fixed;
            top: 20px;
            left: 20px;
            background-color: var(--primary-color);
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 2000;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
            transition: transform 0.2s;
            display: flex;
            align-items: center;
            gap: 10px;
            border: none;
        }
        
        .menu-trigger span {
            font-size: 1rem;
            font-weight: bold;
        }

        .menu-trigger:hover {
            transform: scale(1.05);
            background-color: #004494;
        }

        /* --- SIDEBAR NAVIGATION (GLISANT) --- */
        .sidebar {
            width: var(--sidebar-width);
            background-color: white;
            border-right: 1px solid #ddd;
            display: flex;
            flex-direction: column;
            padding: 20px;
            padding-top: 80px; 
            box-shadow: 4px 0 15px rgba(0,0,0,0.1);
            overflow-y: auto;
            position: fixed;
            left: -320px; /* Ascuns */
            top: 0;
            height: 100vh;
            z-index: 1900;
            transition: left 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        .menu-trigger:hover + .sidebar,
        .sidebar:hover {
            left: 0;
        }

        .brand {
            font-size: 1.4rem;
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 30px;
            text-align: center;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
        }

        .menu-group { margin-bottom: 20px; }
        .menu-label {
            font-size: 0.85rem;
            text-transform: uppercase;
            color: #888;
            font-weight: bold;
            margin-bottom: 10px;
            display: block;
        }

        .nav-btn {
            display: block;
            width: 100%;
            text-align: left;
            padding: 10px 15px;
            margin-bottom: 5px;
            border: none;
            background: none;
            cursor: pointer;
            border-radius: 6px;
            color: var(--secondary-color);
            font-size: 1rem;
            transition: all 0.2s;
        }

        .nav-btn:hover { background-color: #e9f5ff; color: var(--primary-color); }
        .nav-btn.active { background-color: var(--primary-color); color: white; }

        .sub-menu .nav-btn {
            padding-left: 30px;
            font-size: 0.95rem;
        }

        /* --- MAIN CONTENT AREA --- */
        .main-content {
            max-width: 1000px;
            margin: 0 auto;
            padding: 40px 20px;
            padding-top: 80px;
        }

        .section { display: none; margin: 0 auto; padding-bottom: 50px; }
        .section.active-section { display: block; animation: fadeIn 0.5s; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- STILURI ECRAN START --- */
        .landing-container {
            text-align: center;
            margin-top: 50px;
        }
        .landing-title {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 30px;
        }
        .big-menu-grid {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
            margin-bottom: 60px;
        }
        .big-btn {
            width: 220px;
            height: 160px;
            background-color: white;
            border: 2px solid var(--primary-color);
            border-radius: 15px;
            font-size: 1.5rem;
            color: var(--primary-color);
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .big-btn:hover {
            background-color: var(--primary-color);
            color: white;
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
        }
        .big-btn span {
            font-size: 3rem;
            margin-bottom: 15px;
            display: block;
        }

        /* --- NAVIGARE INTRE PAGINI TEORIE --- */
        .theory-footer-nav {
            margin-top: 50px;
            padding-top: 20px;
            border-top: 2px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }
        .nav-link-btn {
            background-color: white;
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .nav-link-btn:hover {
            background-color: var(--primary-color);
            color: white;
            box-shadow: 0 4px 10px rgba(0,86,179,0.3);
        }

        /* Stiluri pentru Teorie */
        h1 { color: var(--secondary-color); border-bottom: 2px solid var(--accent-color); padding-bottom: 10px; margin-bottom: 20px; }
        h2, h3 { color: var(--primary-color); margin-top: 30px; }
        p { line-height: 1.6; color: #444; font-size: 1.1rem; margin-bottom: 15px; text-align: justify; }
        ul { line-height: 1.6; font-size: 1.1rem; color: #444; }
        
        .didactic-img {
            display: block;
            max-width: 100%;
            height: auto;
            margin: 20px auto;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
            border: 1px solid #ddd;
        }

        /* Stiluri Quiz & Completari */
        .quiz-container {
            background-color: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            text-align: center;
            max-width: 900px; /* Am marit pentru tabel */
            margin: 0 auto;
        }
        .question-box {
            background: #e9f5ff;
            padding: 1.5rem;
            border-radius: 8px;
            border: 1px solid #b3d7ff;
            margin-bottom: 1.5rem;
        }
        .tooth-name { font-weight: bold; color: var(--primary-color); font-size: 1.3rem; display: block; margin: 10px 0; }
        .system-name { font-weight: bold; color: var(--accent-color); }
        
        input[type="text"] {
            padding: 8px; font-size: 1.1rem; 
            border: 2px solid #ddd; border-radius: 6px; text-align: center;
        }
        .action-btn {
            background-color: #28a745; color: white; border: none; padding: 12px 24px;
            font-size: 1rem; border-radius: 6px; cursor: pointer; transition: background 0.3s;
        }
        .action-btn:hover { background-color: #218838; }
        .hidden { display: none; }
        .correct { color: #28a745; font-weight: bold; }
        .wrong { color: #dc3545; font-weight: bold; }

        /* --- STILURI SPECIFICE COMPLETƒÇRI (Grid Anatomic) --- */
        .completion-controls { margin-bottom: 20px; text-align: center; }
        .completion-controls select { padding: 10px; font-size: 1rem; border-radius: 5px; }
        
        .dental-arch-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            align-items: center;
            margin-top: 20px;
        }
        
        .arch-row {
            display: flex;
            justify-content: center;
            gap: 40px; /* Spatiu intre stanga si dreapta (linia mediana) */
        }
        
        .quadrant {
            display: flex;
            gap: 5px;
        }
        
        .quadrant.reverse {
            flex-direction: row-reverse; /* Pentru partea dreapta a pacientului */
        }

        .tooth-input-box {
            width: 35px;
            height: 35px;
            font-size: 0.9rem;
            padding: 2px;
            border: 1px solid #bbb;
        }
        .tooth-input-box.correct-bg { background-color: #d4edda; border-color: #28a745; }
        .tooth-input-box.wrong-bg { background-color: #f8d7da; border-color: #dc3545; }
        
        .arch-label {
            font-size: 0.9rem;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin: 5px 0;
            font-weight: bold;
        }
        
        .median-line {
            width: 2px;
            background-color: #ccc;
            margin: 0 10px;
        }
        
        .helper-img {
            max-width: 250px;
            margin: 0 auto 20px auto;
            display: block;
            opacity: 0.8;
        }

        /* Stil mobil */
        @media (max-width: 768px) {
            .menu-trigger { top: 10px; left: 10px; padding: 8px 12px; }
            .sidebar { width: 80%; left: -90%; }
            .menu-trigger:focus + .sidebar, .sidebar:focus-within { left: 0; }
            .theory-footer-nav { flex-direction: column; }
            .nav-link-btn { width: 100%; justify-content: center; }
            
            /* Ajustare grid completari pe mobil */
            .tooth-input-box { width: 25px; height: 30px; font-size: 0.7rem; padding: 0; }
            .arch-row { gap: 10px; }
            .quadrant { gap: 2px; }
        }
    </style>
</head>
<body>

    <button class="menu-trigger">
        ‚ò∞ <span>MENIU</span>
    </button>

    <nav class="sidebar">
        <div class="brand">Anatomie DentarƒÉ</div>
        
        <div class="menu-group">
            <button class="nav-btn active" id="nav-acasa" onclick="switchSection('landing-page', this)">üè† ACASƒÇ</button>
        </div>

        <div class="menu-group">
            <span class="menu-label">Aplica»õie</span>
            <button class="nav-btn" id="nav-quiz" onclick="switchSection('quiz', this)">‚ñ∂ TEST (Quiz)</button>
            <button class="nav-btn" id="nav-completari" onclick="switchSection('completari', this)">‚úé COMPLETƒÇRI</button>
        </div>

        <div class="menu-group">
            <span class="menu-label">TEORIE</span>
            <div class="sub-menu">
                <button class="nav-btn" id="nav-fdi" onclick="switchSection('theory-fdi', this)">1. Sistemul FDI</button>
                <button class="nav-btn" id="nav-francez" onclick="switchSection('theory-francez', this)">2. Sistemul Francez</button>
                <button class="nav-btn" id="nav-unghiular" onclick="switchSection('theory-unghiular', this)">3. Sistemul Unghiular</button>
                <button class="nav-btn" id="nav-aritmetic" onclick="switchSection('theory-aritmetic', this)">4. Sistemul Aritmetic</button>
                <button class="nav-btn" id="nav-american" onclick="switchSection('theory-american', this)">5. Sistemul American</button>
                <button class="nav-btn" id="nav-palmer" onclick="switchSection('theory-palmer', this)">6. Sistemul Palmer</button>
            </div>
        </div>
    </nav>

    <main class="main-content">

        <div id="landing-page" class="section active-section">
            <div class="landing-container">
                <h1 class="landing-title">Bine ai venit!</h1>
                <p style="margin-bottom: 40px; text-align: center; color: #555;">SelecteazƒÉ o op»õiune principalƒÉ:</p>
                
                <div class="big-menu-grid">
                    <button class="big-btn" onclick="switchSection('quiz', document.getElementById('nav-quiz'))">
                        <span>üéÆ</span> TEST
                    </button>
                    <button class="big-btn" onclick="switchSection('theory-fdi', document.getElementById('nav-fdi'))">
                        <span>üìñ</span> TEORIE
                    </button>
                    <button class="big-btn" onclick="switchSection('completari', document.getElementById('nav-completari'))">
                        <span>üìù</span> COMPLETƒÇRI
                    </button>
                </div>
            </div>
        </div>

        <div id="quiz" class="section">
            <div class="quiz-container">
                <h1>Test Complet ‚Äì Sistemele de Notare</h1>
                <div id="game-area">
                    <div class="score-board">
                        √éntrebarea <span id="current-q">1</span>/10 | Scor: <span id="score">0</span>
                    </div>
                    <div class="question-box">
                        <div class="question-text">
                            Ce nota»õie are acest dinte √Æn sistemul <span id="system-display" class="system-name"></span>?
                        </div>
                        <span id="tooth-display" class="tooth-name"></span>
                    </div>
                    <div class="symbol-buttons">
                        <button class="symbol-btn" onclick="addSymbolToQuiz('‚îò')">‚îò</button>
                        <button class="symbol-btn" onclick="addSymbolToQuiz('‚îî')">‚îî</button>
                        <button class="symbol-btn" onclick="addSymbolToQuiz('‚îê')">‚îê</button>
                        <button class="symbol-btn" onclick="addSymbolToQuiz('‚îå')">‚îå</button>
                        <button class="symbol-btn" onclick="addSymbolToQuiz('‚îú')">‚îú</button>
                        <button class="symbol-btn" onclick="addSymbolToQuiz('+')">+</button>
                        <button class="symbol-btn" onclick="addSymbolToQuiz('-')">-</button>
                    </div>

                    <input type="text" id="answer-input" placeholder="RƒÉspuns..." autocomplete="off">
                    <br><br>
                    <button id="submit-btn" class="action-btn" onclick="checkAnswer()">VerificƒÉ</button>
                    <button id="next-btn" class="action-btn hidden" onclick="nextQuestion()">UrmƒÉtoarea √éntrebare</button>
                    <div id="feedback"></div>
                </div>
                <div id="result-area" class="hidden">
                    <h2>Test Finalizat!</h2>
                    <p>Scorul tƒÉu final este: <strong id="final-score"></strong>/10</p>
                    <button class="action-btn" onclick="restartGame()">Re√Æncepe Testul</button>
                </div>
            </div>
        </div>

        <div id="completari" class="section">
            <div class="quiz-container" style="max-width: 1000px;">
                <h1>Exerci»õiu de Completare - Harta DentarƒÉ</h1>
                <p>CompleteazƒÉ codurile pentru fiecare dinte √Æn func»õie de sistemul ales. RespectƒÉ pozi»õia anatomicƒÉ.</p>
                
                <div class="completion-controls">
                    <label for="system-select"><strong>Alege Sistemul:</strong> </label>
                    <select id="system-select" onchange="resetCompletionGrid()">
                        <option value="FDI">FDI (Interna»õional)</option>
                        <option value="Francez">Francez</option>
                        <option value="Unghiular">Unghiular (Zsigmondy)</option>
                        <option value="Aritmetic">Aritmetic</option>
                        <option value="American">American</option>
                        <option value="Palmer">Palmer</option>
                    </select>
                </div>

                <img src="imagini/blank.png" alt="Schema Dentara" class="helper-img">

                <div class="dental-arch-container" id="dental-grid">
                    </div>

                <div style="margin-top: 30px;">
                    <button class="action-btn" onclick="checkCompletion()">VerificƒÉ RƒÉspunsurile</button>
                    <button class="action-btn" style="background-color: #6c757d;" onclick="resetCompletionGrid()">ReseteazƒÉ</button>
                </div>
            </div>
        </div>

        <div id="theory-fdi" class="section">
            <h1>1. Sistemul de nota»õie FDI</h1>
            <p><strong>(Federa»õia DentarƒÉ Interna»õionalƒÉ)</strong></p>
            <p>Sistemul FDI este cel mai utilizat sistem de nota»õie dentarƒÉ la nivel interna»õional.</p>
            <img src="imagini/FDI.jpg" alt="Schema FDI" class="didactic-img">
            <div class="img-caption">Fig 1. Schema cadranelor √Æn sistemul FDI</div>
            <p>Nota»õia se bazeazƒÉ pe douƒÉ cifre. Prima cifrƒÉ indicƒÉ cadranul dentar, iar a doua cifrƒÉ indicƒÉ pozi»õia dintelui.</p>
            <div class="theory-footer-nav">
                <button class="nav-link-btn" onclick="switchSection('landing-page', document.getElementById('nav-acasa'))">üè† AcasƒÉ</button>
                <button class="nav-link-btn" onclick="switchSection('theory-francez', document.getElementById('nav-francez'))">Sistemul Francez ‚û°</button>
            </div>
        </div>

        <div id="theory-francez" class="section">
            <h1>2. Sistemul Francez</h1>
            <img src="imagini/FRANCEZ.jpg" class="didactic-img">
            <div class="theory-footer-nav">
                <button class="nav-link-btn" onclick="switchSection('theory-fdi', document.getElementById('nav-fdi'))">‚¨Ö FDI</button>
                <button class="nav-link-btn" onclick="switchSection('theory-unghiular', document.getElementById('nav-unghiular'))">Unghiular ‚û°</button>
            </div>
        </div>
        
        <div id="theory-unghiular" class="section">
            <h1>3. Sistemul Unghiular</h1>
            <img src="imagini/UNGHIULAR.jpg" class="didactic-img">
            <div class="theory-footer-nav">
                <button class="nav-link-btn" onclick="switchSection('theory-francez', document.getElementById('nav-francez'))">‚¨Ö Francez</button>
                <button class="nav-link-btn" onclick="switchSection('theory-aritmetic', document.getElementById('nav-aritmetic'))">Aritmetic ‚û°</button>
            </div>
        </div>

        <div id="theory-aritmetic" class="section">
            <h1>4. Sistemul Aritmetic</h1>
            <img src="imagini/ARITMETIC.jpg" class="didactic-img">
            <div class="theory-footer-nav">
                <button class="nav-link-btn" onclick="switchSection('theory-unghiular', document.getElementById('nav-unghiular'))">‚¨Ö Unghiular</button>
                <button class="nav-link-btn" onclick="switchSection('theory-american', document.getElementById('nav-american'))">American ‚û°</button>
            </div>
        </div>

        <div id="theory-american" class="section">
            <h1>5. Sistemul American</h1>
            <img src="imagini/AMERICAN.jpg" class="didactic-img">
            <div class="theory-footer-nav">
                <button class="nav-link-btn" onclick="switchSection('theory-aritmetic', document.getElementById('nav-aritmetic'))">‚¨Ö Aritmetic</button>
                <button class="nav-link-btn" onclick="switchSection('theory-palmer', document.getElementById('nav-palmer'))">Palmer ‚û°</button>
            </div>
        </div>

        <div id="theory-palmer" class="section">
            <h1>6. Sistemul Palmer</h1>
            <img src="imagini/PALMER.jpg" class="didactic-img">
            <div class="theory-footer-nav">
                <button class="nav-link-btn" onclick="switchSection('theory-american', document.getElementById('nav-american'))">‚¨Ö American</button>
                <button class="nav-link-btn" onclick="switchSection('landing-page', document.getElementById('nav-acasa'))">üè† AcasƒÉ</button>
            </div>
        </div>

    </main>

    <script>
        // =====================================================================
        // DATA SET
        // =====================================================================
        const dinti = [
            // --- TEMPORARI MAXILAR ---
            {id: "temp_ur_1", nume: "Incisiv Central Drept Temp", FDI: "51", Francez: "DI", Unghiular: "LI", Aritmetic: "1+", American: "E", Palmer: "‚îòA", quadrant: "UR_TEMP", pos: 1},
            {id: "temp_ul_1", nume: "Incisiv Central St√¢ng Temp", FDI: "61", Francez: "SI", Unghiular: "I‚îú", Aritmetic: "+1", American: "F", Palmer: "‚îîA", quadrant: "UL_TEMP", pos: 1},
            {id: "temp_ur_2", nume: "Incisiv Lateral Drept Temp", FDI: "52", Francez: "DII", Unghiular: "LII", Aritmetic: "2+", American: "D", Palmer: "‚îòB", quadrant: "UR_TEMP", pos: 2},
            {id: "temp_ul_2", nume: "Incisiv Lateral St√¢ng Temp", FDI: "62", Francez: "SII", Unghiular: "II‚îú", Aritmetic: "+2", American: "G", Palmer: "‚îîB", quadrant: "UL_TEMP", pos: 2},
            {id: "temp_ur_3", nume: "Canin Drept Temp", FDI: "53", Francez: "DIII", Unghiular: "LIII", Aritmetic: "3+", American: "C", Palmer: "‚îòC", quadrant: "UR_TEMP", pos: 3},
            {id: "temp_ul_3", nume: "Canin St√¢ng Temp", FDI: "63", Francez: "SIII", Unghiular: "III‚îú", Aritmetic: "+3", American: "H", Palmer: "‚îîC", quadrant: "UL_TEMP", pos: 3},
            {id: "temp_ur_4", nume: "Molar 1 Drept Temp", FDI: "54", Francez: "DIV", Unghiular: "LIV", Aritmetic: "4+", American: "B", Palmer: "‚îòD", quadrant: "UR_TEMP", pos: 4},
            {id: "temp_ul_4", nume: "Molar 1 St√¢ng Temp", FDI: "64", Francez: "SIV", Unghiular: "IV‚îú", Aritmetic: "+4", American: "I", Palmer: "‚îîD", quadrant: "UL_TEMP", pos: 4},
            {id: "temp_ur_5", nume: "Molar 2 Drept Temp", FDI: "55", Francez: "DV", Unghiular: "LV", Aritmetic: "5+", American: "A", Palmer: "‚îòE", quadrant: "UR_TEMP", pos: 5},
            {id: "temp_ul_5", nume: "Molar 2 St√¢ng Temp", FDI: "65", Francez: "SV", Unghiular: "V‚îú", Aritmetic: "+5", American: "J", Palmer: "‚îîE", quadrant: "UL_TEMP", pos: 5},

            // --- TEMPORARI MANDIBULA ---
            {id: "temp_lr_1", nume: "Incisiv Central Drept Temp", FDI: "81", Francez: "dI", Unghiular: "I‚îò", Aritmetic: "1-", American: "P", Palmer: "‚îòA", quadrant: "LR_TEMP", pos: 1},
            {id: "temp_ll_1", nume: "Incisiv Central St√¢ng Temp", FDI: "71", Francez: "sI", Unghiular: "‚îîI", Aritmetic: "-1", American: "O", Palmer: "‚îîA", quadrant: "LL_TEMP", pos: 1},
            {id: "temp_lr_2", nume: "Incisiv Lateral Drept Temp", FDI: "82", Francez: "dII", Unghiular: "II‚îò", Aritmetic: "2-", American: "Q", Palmer: "‚îòB", quadrant: "LR_TEMP", pos: 2},
            {id: "temp_ll_2", nume: "Incisiv Lateral St√¢ng Temp", FDI: "72", Francez: "sII", Unghiular: "‚îîII", Aritmetic: "-2", American: "N", Palmer: "‚îîB", quadrant: "LL_TEMP", pos: 2},
            {id: "temp_lr_3", nume: "Canin Drept Temp", FDI: "83", Francez: "dIII", Unghiular: "III‚îò", Aritmetic: "3-", American: "R", Palmer: "‚îòC", quadrant: "LR_TEMP", pos: 3},
            {id: "temp_ll_3", nume: "Canin St√¢ng Temp", FDI: "73", Francez: "sIII", Unghiular: "‚îîIII", Aritmetic: "-3", American: "M", Palmer: "‚îîC", quadrant: "LL_TEMP", pos: 3},
            {id: "temp_lr_4", nume: "Molar 1 Drept Temp", FDI: "84", Francez: "dIV", Unghiular: "IV‚îò", Aritmetic: "4-", American: "S", Palmer: "‚îòD", quadrant: "LR_TEMP", pos: 4},
            {id: "temp_ll_4", nume: "Molar 1 St√¢ng Temp", FDI: "74", Francez: "sIV", Unghiular: "‚îîIV", Aritmetic: "-4", American: "L", Palmer: "‚îîD", quadrant: "LL_TEMP", pos: 4},
            {id: "temp_lr_5", nume: "Molar 2 Drept Temp", FDI: "85", Francez: "dV", Unghiular: "V‚îò", Aritmetic: "5-", American: "T", Palmer: "‚îòE", quadrant: "LR_TEMP", pos: 5},
            {id: "temp_ll_5", nume: "Molar 2 St√¢ng Temp", FDI: "75", Francez: "sV", Unghiular: "‚îîV", Aritmetic: "-5", American: "K", Palmer: "‚îîE", quadrant: "LL_TEMP", pos: 5},

            // --- PERMANENTI MAXILAR ---
            {id: "perm_ur_1", nume: "Central Drept", FDI: "11", Francez: "D1", Unghiular: "S1", Aritmetic: "1+", American: "8", Palmer: "‚îò1", quadrant: "UR_PERM", pos: 1},
            {id: "perm_ul_1", nume: "Central St√¢ng", FDI: "21", Francez: "S1", Unghiular: "1‚îú", Aritmetic: "+1", American: "9", Palmer: "‚îî1", quadrant: "UL_PERM", pos: 1},
            {id: "perm_ur_2", nume: "Lateral Drept", FDI: "12", Francez: "D2", Unghiular: "S2", Aritmetic: "2+", American: "7", Palmer: "‚îò2", quadrant: "UR_PERM", pos: 2},
            {id: "perm_ul_2", nume: "Lateral St√¢ng", FDI: "22", Francez: "S2", Unghiular: "2‚îú", Aritmetic: "+2", American: "10", Palmer: "‚îî2", quadrant: "UL_PERM", pos: 2},
            {id: "perm_ur_3", nume: "Canin Drept", FDI: "13", Francez: "D3", Unghiular: "S3", Aritmetic: "3+", American: "6", Palmer: "‚îò3", quadrant: "UR_PERM", pos: 3},
            {id: "perm_ul_3", nume: "Canin St√¢ng", FDI: "23", Francez: "S3", Unghiular: "3‚îú", Aritmetic: "+3", American: "11", Palmer: "‚îî3", quadrant: "UL_PERM", pos: 3},
            {id: "perm_ur_4", nume: "PM 1 Drept", FDI: "14", Francez: "D4", Unghiular: "S4", Aritmetic: "4+", American: "5", Palmer: "‚îò4", quadrant: "UR_PERM", pos: 4},
            {id: "perm_ul_4", nume: "PM 1 St√¢ng", FDI: "24", Francez: "S4", Unghiular: "4‚îú", Aritmetic: "+4", American: "12", Palmer: "‚îî4", quadrant: "UL_PERM", pos: 4},
            {id: "perm_ur_5", nume: "PM 2 Drept", FDI: "15", Francez: "D5", Unghiular: "S5", Aritmetic: "5+", American: "4", Palmer: "‚îò5", quadrant: "UR_PERM", pos: 5},
            {id: "perm_ul_5", nume: "PM 2 St√¢ng", FDI: "25", Francez: "S5", Unghiular: "5‚îú", Aritmetic: "+5", American: "13", Palmer: "‚îî5", quadrant: "UL_PERM", pos: 5},
            {id: "perm_ur_6", nume: "Molar 1 Drept", FDI: "16", Francez: "D6", Unghiular: "S6", Aritmetic: "6+", American: "3", Palmer: "‚îò6", quadrant: "UR_PERM", pos: 6},
            {id: "perm_ul_6", nume: "Molar 1 St√¢ng", FDI: "26", Francez: "S6", Unghiular: "6‚îú", Aritmetic: "+6", American: "14", Palmer: "‚îî6", quadrant: "UL_PERM", pos: 6},
            {id: "perm_ur_7", nume: "Molar 2 Drept", FDI: "17", Francez: "D7", Unghiular: "S7", Aritmetic: "7+", American: "2", Palmer: "‚îò7", quadrant: "UR_PERM", pos: 7},
            {id: "perm_ul_7", nume: "Molar 2 St√¢ng", FDI: "27", Francez: "S7", Unghiular: "7‚îú", Aritmetic: "+7", American: "15", Palmer: "‚îî7", quadrant: "UL_PERM", pos: 7},
            {id: "perm_ur_8", nume: "Molar 3 Drept", FDI: "18", Francez: "D8", Unghiular: "S8", Aritmetic: "8+", American: "1", Palmer: "‚îò8", quadrant: "UR_PERM", pos: 8},
            {id: "perm_ul_8", nume: "Molar 3 St√¢ng", FDI: "28", Francez: "S8", Unghiular: "8‚îú", Aritmetic: "+8", American: "16", Palmer: "‚îî8", quadrant: "UL_PERM", pos: 8},

            // --- PERMANENTI MANDIBULA ---
            {id: "perm_lr_1", nume: "Central Drept", FDI: "41", Francez: "d1", Unghiular: "1‚îò", Aritmetic: "1-", American: "25", Palmer: "‚îò1", quadrant: "LR_PERM", pos: 1},
            {id: "perm_ll_1", nume: "Central St√¢ng", FDI: "31", Francez: "s1", Unghiular: "‚îî1", Aritmetic: "-1", American: "24", Palmer: "‚îî1", quadrant: "LL_PERM", pos: 1},
            {id: "perm_lr_2", nume: "Lateral Drept", FDI: "42", Francez: "d2", Unghiular: "2‚îò", Aritmetic: "2-", American: "26", Palmer: "‚îò2", quadrant: "LR_PERM", pos: 2},
            {id: "perm_ll_2", nume: "Lateral St√¢ng", FDI: "32", Francez: "s2", Unghiular: "‚îî2", Aritmetic: "-2", American: "23", Palmer: "‚îî2", quadrant: "LL_PERM", pos: 2},
            {id: "perm_lr_3", nume: "Canin Drept", FDI: "43", Francez: "d3", Unghiular: "3‚îò", Aritmetic: "3-", American: "27", Palmer: "‚îò3", quadrant: "LR_PERM", pos: 3},
            {id: "perm_ll_3", nume: "Canin St√¢ng", FDI: "33", Francez: "s3", Unghiular: "‚îî3", Aritmetic: "-3", American: "22", Palmer: "‚îî3", quadrant: "LL_PERM", pos: 3},
            {id: "perm_lr_4", nume: "PM 1 Drept", FDI: "44", Francez: "d4", Unghiular: "4‚îò", Aritmetic: "4-", American: "28", Palmer: "‚îò4", quadrant: "LR_PERM", pos: 4},
            {id: "perm_ll_4", nume: "PM 1 St√¢ng", FDI: "34", Francez: "s4", Unghiular: "‚îî4", Aritmetic: "-4", American: "21", Palmer: "‚îî4", quadrant: "LL_PERM", pos: 4},
            {id: "perm_lr_5", nume: "PM 2 Drept", FDI: "45", Francez: "d5", Unghiular: "5‚îò", Aritmetic: "5-", American: "29", Palmer: "‚îò5", quadrant: "LR_PERM", pos: 5},
            {id: "perm_ll_5", nume: "PM 2 St√¢ng", FDI: "35", Francez: "s5", Unghiular: "‚îî5", Aritmetic: "-5", American: "20", Palmer: "‚îî5", quadrant: "LL_PERM", pos: 5},
            {id: "perm_lr_6", nume: "Molar 1 Drept", FDI: "46", Francez: "d6", Unghiular: "6‚îò", Aritmetic: "6-", American: "30", Palmer: "‚îò6", quadrant: "LR_PERM", pos: 6},
            {id: "perm_ll_6", nume: "Molar 1 St√¢ng", FDI: "36", Francez: "s6", Unghiular: "‚îî6", Aritmetic: "-6", American: "19", Palmer: "‚îî6", quadrant: "LL_PERM", pos: 6},
            {id: "perm_lr_7", nume: "Molar 2 Drept", FDI: "47", Francez: "d7", Unghiular: "7‚îò", Aritmetic: "7-", American: "31", Palmer: "‚îò7", quadrant: "LR_PERM", pos: 7},
            {id: "perm_ll_7", nume: "Molar 2 St√¢ng", FDI: "37", Francez: "s7", Unghiular: "‚îî7", Aritmetic: "-7", American: "18", Palmer: "‚îî7", quadrant: "LL_PERM", pos: 7},
            {id: "perm_lr_8", nume: "Molar 3 Drept", FDI: "48", Francez: "d8", Unghiular: "8‚îò", Aritmetic: "8-", American: "32", Palmer: "‚îò8", quadrant: "LR_PERM", pos: 8},
            {id: "perm_ll_8", nume: "Molar 3 St√¢ng", FDI: "38", Francez: "s8", Unghiular: "‚îî8", Aritmetic: "-8", American: "17", Palmer: "‚îî8", quadrant: "LL_PERM", pos: 8}
        ];

        // =====================================================================
        // GENERAL NAV
        // =====================================================================
        function switchSection(sectionId, btnElement) {
            document.querySelectorAll('.section').forEach(el => el.classList.remove('active-section'));
            document.getElementById(sectionId).classList.add('active-section');
            document.querySelectorAll('.nav-btn').forEach(el => el.classList.remove('active'));
            if(btnElement) btnElement.classList.add('active');
            window.scrollTo(0, 0);

            // Daca intram in Completari, generam gridul
            if(sectionId === 'completari') {
                generateCompletionGrid();
            }
        }

        // =====================================================================
        // COMPLETION LOGIC (GENERARE TABEL)
        // =====================================================================
        function generateCompletionGrid() {
            const container = document.getElementById('dental-grid');
            container.innerHTML = '';

            // 1. R√¢ndul de sus - Permanen»õi
            container.innerHTML += `
                <div class="arch-label">Maxilar Permanent</div>
                <div class="arch-row">
                    <div class="quadrant reverse" id="q-ur-perm"></div> <div class="median-line"></div>
                    <div class="quadrant" id="q-ul-perm"></div> </div>
            `;
            
            // 2. R√¢ndul de sus - Temporari (Interior)
            container.innerHTML += `
                <div class="arch-label">Maxilar Temporar</div>
                <div class="arch-row">
                    <div class="quadrant reverse" id="q-ur-temp"></div>
                    <div class="median-line"></div>
                    <div class="quadrant" id="q-ul-temp"></div>
                </div>
                <hr style="width: 100%; border: 1px dashed #ccc; margin: 10px 0;">
            `;

            // 3. R√¢ndul de jos - Temporari (Interior)
            container.innerHTML += `
                <div class="arch-label">MandibulƒÉ TemporarƒÉ</div>
                <div class="arch-row">
                    <div class="quadrant reverse" id="q-lr-temp"></div>
                    <div class="median-line"></div>
                    <div class="quadrant" id="q-ll-temp"></div>
                </div>
            `;

            // 4. R√¢ndul de jos - Permanen»õi
            container.innerHTML += `
                <div class="arch-label">MandibulƒÉ PermanentƒÉ</div>
                <div class="arch-row">
                    <div class="quadrant reverse" id="q-lr-perm"></div>
                    <div class="median-line"></div>
                    <div class="quadrant" id="q-ll-perm"></div>
                </div>
            `;

            // Populare Inputs
            populateQuadrant('UR_PERM', 'q-ur-perm');
            populateQuadrant('UL_PERM', 'q-ul-perm');
            populateQuadrant('UR_TEMP', 'q-ur-temp');
            populateQuadrant('UL_TEMP', 'q-ul-temp');
            populateQuadrant('LR_TEMP', 'q-lr-temp');
            populateQuadrant('LL_TEMP', 'q-ll-temp');
            populateQuadrant('LR_PERM', 'q-lr-perm');
            populateQuadrant('LL_PERM', 'q-ll-perm');
        }

        function populateQuadrant(quadrantCode, elementId) {
            const container = document.getElementById(elementId);
            // Filtram dintii si ii sortam dupa pozitie (1 la linie mediana, 8 la distal)
            const teeth = dinti.filter(t => t.quadrant === quadrantCode).sort((a, b) => a.pos - b.pos);
            
            teeth.forEach(tooth => {
                const input = document.createElement('input');
                input.type = 'text';
                input.className = 'tooth-input-box';
                input.dataset.id = tooth.id; // stocam ID-ul dintelui
                input.setAttribute('title', tooth.nume); // tooltip cu numele
                container.appendChild(input);
            });
        }

        function checkCompletion() {
            const selectedSystem = document.getElementById('system-select').value;
            const inputs = document.querySelectorAll('.tooth-input-box');

            inputs.forEach(input => {
                const toothData = dinti.find(d => d.id === input.dataset.id);
                const correctAnswer = toothData[selectedSystem];
                
                if(input.value.trim().toLowerCase() === correctAnswer.toLowerCase()) {
                    input.className = 'tooth-input-box correct-bg';
                } else {
                    input.className = 'tooth-input-box wrong-bg';
                }
            });
        }

        function resetCompletionGrid() {
            const inputs = document.querySelectorAll('.tooth-input-box');
            inputs.forEach(input => {
                input.value = '';
                input.className = 'tooth-input-box';
            });
        }


        // =====================================================================
        // QUIZ LOGIC
        // =====================================================================
        const sisteme = ["FDI", "Francez", "Unghiular", "Aritmetic", "American", "Palmer"];
        let currentQuestion = 0;
        let score = 0;
        let currentTooth = null;
        let currentSystem = "";

        function startGame() {
            currentQuestion = 0;
            score = 0;
            document.getElementById("game-area").classList.remove("hidden");
            document.getElementById("result-area").classList.add("hidden");
            nextQuestion();
        }

        function nextQuestion() {
            if (currentQuestion >= 10) {
                endGame();
                return;
            }
            currentQuestion++;
            document.getElementById("current-q").textContent = currentQuestion;
            
            const randomIndex = Math.floor(Math.random() * dinti.length);
            currentTooth = dinti[randomIndex];
            currentSystem = sisteme[Math.floor(Math.random() * sisteme.length)];
            
            document.getElementById("system-display").textContent = currentSystem;
            document.getElementById("tooth-display").textContent = currentTooth.nume;
            document.getElementById("answer-input").value = "";
            document.getElementById("feedback").textContent = "";
            document.getElementById("submit-btn").classList.remove("hidden");
            document.getElementById("next-btn").classList.add("hidden");
        }

        function checkAnswer() {
            const input = document.getElementById("answer-input").value.trim();
            const correctAnswer = currentTooth[currentSystem];
            if (input.toLowerCase() === correctAnswer.toLowerCase()) {
                score++;
                document.getElementById("score").textContent = score;
                document.getElementById("feedback").innerHTML = '<span class="correct">Corect!</span>';
            } else {
                document.getElementById("feedback").innerHTML = `<span class="wrong">Gre»ôit! Corect era: ${correctAnswer}</span>`;
            }
            document.getElementById("submit-btn").classList.add("hidden");
            document.getElementById("next-btn").classList.remove("hidden");
        }

        function addSymbolToQuiz(symbol) {
             document.getElementById("answer-input").value += symbol;
             document.getElementById("answer-input").focus();
        }

        function endGame() {
            document.getElementById("game-area").classList.add("hidden");
            document.getElementById("result-area").classList.remove("hidden");
            document.getElementById("final-score").textContent = score;
        }

        function restartGame() {
            startGame();
        }
        
        // Initializare
        startGame();

    </script>
</body>
</html>